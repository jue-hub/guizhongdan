<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>guizhongdan</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* 样式可根据需要进行修改 */
      #openModalBtn {
        background-color: #4caf50; /* 绿色背景 */
        color: white; /* 白色文字 */
        padding: 12px 20px; /* 内边距 */
        border: none; /* 去掉边框 */
        border-radius: 4px; /* 圆角 */
        cursor: pointer; /* 鼠标指针样式 */
        font-size: 16px; /* 字体大小 */
        transition: background-color 0.3s ease; /* 过渡效果 */
      }

      #openModalBtn:hover {
        background-color: #45a049; /* 鼠标悬停时的背景颜色 */
      }

      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
      }

      .modal-content {
        background-color: #fefefe;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        max-width: 600px;
        text-align: center;
      }

      .modal input[type="text"] {
        width: 100%; /* 宽度100% */
        padding: 6px; /* 减少内边距，使输入框高度看起来更小 */
        font-size: 14px; /* 调整字体大小 */
        margin: 5px 0; /* 外边距，上下5px，左右0 */
        box-sizing: border-box; /* 盒模型为border-box，包含内边距和边框在内的宽度 */
        border: 1px solid #ccc; /* 边框为1px灰色实线 */
        border-radius: 4px; /* 圆角4px */
      }
      .modal textarea {
        width: 100%; /* 宽度100% */
        height: 150px; /* 初始高度为150px */
        padding: 10px; /* 内边距 */
        margin: 5px 0; /* 外边距，上下5px，左右0 */
        box-sizing: border-box; /* 盒模型为border-box，包含内边距和边框在内的宽度 */
        border: 1px solid #ccc; /* 边框为1px灰色实线 */
        border-radius: 4px; /* 圆角4px */
        resize: vertical; /* 垂直方向可以调整大小 */
      }

      .modal button {
        background-color: #4caf50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      .modal button:hover {
        background-color: #45a049;
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="notes.html">Notes</a></li>
          <li><a href="add_note.html">Add Note</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <div class="hero">
        <img src="./tex/gui.jpg" alt="Hero Image" />
        <div class="hero-text">
          <h1>Add a New Note</h1>
          <p>Record your thoughts and ideas.</p>
          <button id="openModalBtn">Add Note</button>
        </div>
      </div>
      <div class="content">
        <!-- 模态框 -->
        <div id="myModal" class="modal">
          <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Add New Note</h2>
            <form id="modalNoteForm">
              <div class="form-group">
                <label for="modalTitle">Title:</label>
                <input type="text" id="modalTitle" name="title" required />
              </div>
              <div class="form-group">
                <label for="modalContent">Content:</label>
                <textarea id="modalContent" name="content" required></textarea>
              </div>
              <button type="submit">Save Note</button>
            </form>
          </div>
        </div>
      </div>
    </main>
    <footer>
      <p>&copy; 2024 My Reading Notes</p>
    </footer>
    <script>
      // 获取模态框
      const modal = document.getElementById("myModal");

      // 获取打开模态框的按钮
      const btn = document.getElementById("openModalBtn");

      // 获取关闭按钮
      const span = document.getElementsByClassName("close")[0];

      // 当点击按钮时打开模态框
      btn.onclick = function () {
        modal.style.display = "block";
      };

      // 当点击关闭按钮（×）时关闭模态框
      span.onclick = function () {
        modal.style.display = "none";
      };

      // 当用户点击模态框之外的区域时关闭模态框
      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };

      // 处理模态框中表单的提交事件
      document
        .getElementById("modalNoteForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const title = document.getElementById("modalTitle").value;
          const content = document.getElementById("modalContent").value;
          let notes = JSON.parse(localStorage.getItem("notes")) || [];
          notes.push({ title, content });
          localStorage.setItem("notes", JSON.stringify(notes));
          alert("Note added!");
          modal.style.display = "none"; // 关闭模态框
          document.getElementById("modalNoteForm").reset();
        });
    </script>
  </body>
</html>
